window.__require=function t(e,o,i){function n(s,c){if(!o[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var h="function"==typeof __require&&__require;if(!c&&h)return h(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var d=o[s]={exports:{}};e[s][0].call(d.exports,function(t){return n(e[s][1][t]||t)},d,d.exports,t,e,o,i)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<i.length;s++)n(i[s]);return n}({block:[function(t,e,o){"use strict";cc._RF.push(e,"3646aNp0yVJL5akDKcaC7t6","block"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on("touchstart",this.touchStart,this),this.node.on("touchmove",this.touchMove,this),this.node.on("touchend",this.touchEnd,this)},onDestroy:function(){this.node.off("touchstart",this.touchStart,this),this.node.off("touchmove",this.touchMove,this),this.node.off("touchend",this.touchEnd,this)},touchStart:function(t){this.node.opacity=128,this.startPos=this.node.position,this.node.zIndex=1},touchMove:function(t){var e=t.getDelta();this.node.x+=e.x,this.node.y+=e.y},touchEnd:function(t){this.node.opacity=255,this.node.zIndex=0;var e=this.node.width,o=this.node.height,i=this.getPos2Index(this.node.position),n=window.game.picNodeArr[i.i][i.j];if(n){this.node.setPosition(i.j*e,-i.i*o),n.setPosition(this.startPos);var r=this.getPos2Index(this.startPos);window.game.picNodeArr[r.i][r.j]=n,window.game.picNodeArr[i.i][i.j]=this.node;var s=window.game.checkOver();cc.log(s)}else this.node.setPosition(this.startPos)},getPos2Index:function(t){var e=this.node.width,o=this.node.height;return{i:Math.abs(parseInt(t.y/o)),j:Math.abs(parseInt(t.x/e))}},init:function(t,e){var o=this.node.getComponent(cc.Sprite),i=this.node.width,n=this.node.height,r=new cc.SpriteFrame(t,cc.rect(e.x*i,e.y*n,i,n));o.spriteFrame=r},start:function(){}}),cc._RF.pop()},{}],game:[function(t,e,o){"use strict";cc._RF.push(e,"59a2aSyP+BOa4JyOTmUw2dI","game"),cc.Class({extends:cc.Component,properties:{blockPrefab:cc.Prefab,messageLabel:cc.Label,restartButton:cc.Button},onLoad:function(){var t=this;window.game=this,cc.loader.loadRes("img.png",function(e,o){t.picTexture=o,t.picNodeArr=[];for(var i=0;i<4;i++){t.picNodeArr[i]=[];for(var n=0;n<4;n++){var r=cc.instantiate(t.blockPrefab);t.node.addChild(r),r.setPosition(cc.v2(180*n,180*-i)),r.getComponent("block").init(o,cc.v2(n,i)),r.mPos={i:i,j:n},t.picNodeArr[i][n]=r}}t.randPic()}),this.messageLabel.node.active=!0,this.restartButton.node.active=!1,this.TotalTime=60,this.messageLabel.string="\u6642\u9593\uff1a".concat(this.TotalTime,"\u79d2"),this.timer=setInterval(function(){t.TotalTime--,t.TotalTime<=0&&(t.TotalTime=0,clearInterval(t.timer)),t.messageLabel.string="\u6642\u9593\uff1a".concat(t.TotalTime,"\u79d2"),t.TotalTime<=0&&(t.messageLabel.string+="\uff0c\u6311\u6230\u5931\u6557!",t.restartButton.node.active=!0)},1e3)},checkOver:function(){for(var t=0,e=0;e<4;e++)for(var o=0;o<4;o++){var i=this.picNodeArr[e][o].mPos;i.i===e&&i.j===o&&t++}return 16===t&&(clearInterval(this.timer),this.messageLabel.string+="\uff0c\u606d\u559c\u7834\u95dc!",this.restartButton.node.active=!0,!0)},randPic:function(){for(var t=0;t<4;t++)for(var e=0;e<4;e++){var o=this.picNodeArr[t][e],i={i:parseInt(4*Math.random()),j:parseInt(4*Math.random())},n=this.picNodeArr[i.i][i.j],r=o.position,s=n.position;o.setPosition(s),n.setPosition(r),this.picNodeArr[t][e]=n,this.picNodeArr[i.i][i.j]=o}},onClick_restart:function(){cc.director.loadScene("game")},start:function(){}}),cc._RF.pop()},{}]},{},["block","game"]);